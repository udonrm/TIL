# Git: もう怖くない Git!チーム開発で必要な Git を完全マスター(Udemy)

コミットを辿って以前の状態に戻すことができる

- ワークツリー → ローカルリポジトリ →GitHub(リモートリポジトリ)

## ローカルでの操作

```
ワークツリー：ファイルを変更する作業場
ステージ：コミットする変更を準備(git add)
リポジトリ：スナップショットを記録（git commit）
```

## 変更履歴確認その他

```
git statusで変更状況の確認
git diffで変更差分の確認
```

## 変更をもとに戻す

```
ステージの情報をワークツリーに反映させて変更をもとに戻す
git checkout -- <ファイル名>コマンド

ステージした変更の取り消し：git reset HEAD <ファイル名>

直前のコミットをやり直す：git commit --amend
```

## GitHub とやりとりしよう

```
リモートの表示：git remote (-v)
リモートリポジトリを新規で複数追加できる
リモートから情報を取得する：git fetch <リモート名>, git pull <リモート名><ブランチ名>

fetchとpullの使い分け

リモートの詳細情報の表示：git remote show<リモート名>
リモートの変更、削除：git remote rename <old remote name> <new remote name> , git remote rm <remote name>
```

## branch と merge

```
branchはコミットを指すポインタ

ブランチの新規追加：git branch <branch name>
ブランチの切り替え：git checkout <既存のブランチ名>

変更のマージ（他の人の変更内容を取り込む作業）:git merge <ブランチ名>

コンフリクト（同じファイルの同じ行に対して異なる編集を行った時）の解決

コンフリクトが起きないようにするには：複数人で同じファイルを変更しない、pullやmergeの前に変更中の状態を無くしておく、pullするときはpullするブランチに移動してからpullする

ブランチの変更：git branch -m <ブランチ名>
ブランチの削除：git branch -d <ブランチ名>
```

## GitHub を利用した開発手順の流れ

```
プルリクエストの流れ：自分の変更したコードをリポジトリに取り込んでもらえるように依頼する機能

GitHub Flowの流れ：マスターブランチは常にデプロイできる状態に保って、新しい開発はそれ専用のブランチを作成してそこで行う
```

## リベースで変更履歴の修正

```
リベースで履歴を整えた形で変更を統合する：git rebase <ブランチ名>

GitHubにプッシュしたコミットをリベースしない

複数のコミットをやり直す:git rebase -i <コミットID>

コミットをまとめる：squash
```

## タグ付け

```
コミットを参照しやすくするためにわかりやすい名前をつける
タグの作成：git tag -a [タグ名] -m "メッセージ"
タグの一覧を表示：git tag
タグのデータを表示：git show [タグ名]

タグをリモートリポジトリに送信：git push [リモート名] [タグ名]
```
