## コンストラクタ

コンストラクタ関数：オブジェクトを初期化するために使用される特別な種類の関数,戻り値がない

```php
<?php
class Vehicle{
    public $kart;
    public $tire;
    public $glider;

    //コンストラクタでオブジェクトの初期値のデータ、状態を作成する
    function __construct($kart, $tire, $glider){
        //thisキーワードで現在のオブジェクトを取得
        $this->kart = $kart;
        $this->tire = $tire;
        $this->glider = $glider;
    }
}

$car1 = new Vehicle("Standard Kart", "Leaf Tires", "Toy Glider");
echo $car->kart;
```

```php
<?php
class Rectangle{
    public $width;
    public $height;
    public $color;

    function __construct($w, $h, $c){
        $this->width = $w;
        $this->height = $h;
        $this->color = $c;
    }
}
```

## クラス変数

クラス変数：クラス内の全てのオブジェクトに対して共通する値を持つ変数（車で言うとエンジン）<br>
インスタンス変数：オブジェクトのインスタンスごとに値が変わるメンバ変数(タイヤ、グライダー)

```php
<?php
<?php
class Vehicle {
    public static $engine = "Standard Engine";

    public $kart;
    public $tire;
    public $glider;

    function __construct($kart, $tire, $glider){
        $this->kart = $kart;
        $this->tire = $tire;
        $this->glider = $glider;
    }
}
```

## オブジェクトの振る舞い

```php
<?php
/*
フィットネスアプリケーションを作ることになり、人間のデータをオブジェクトとして表すことになりました。姓、名、身長、体重、誕生年を管理して、それぞれのユーザーを表します。
*/
class Person{
    public $firstName;
    public $lastName;
    public $heightM;
    public $weightKg;
    public $birthYear;

    function __construct($firstName, $lastName, $heightM, $weightKg, $birthYear){
        $this->firstName = $firstName;
        $this->lastName = $lastName;
        $this->heightM = $heightM;
        $this->weightKg = $weightKg;
        $this->birthYear = $birthYear;
    }

    function getStateString(){
        return "First Name: " . $this->firstName . ", Last Name: " . $this->lastName . ", heightM: " . $this->heightM . ", weightKg: " . $this->weightKg . ", birthYear: " . $this->birthYear;
    }

    function getFullName(){
        return $this->firstName . " " . $this->lastName;
    }

    function getAge(){
        $currentYear = date("Y");
        return $currentYear - $this->birthYear;
    }

    function getBmi(){
        return $this->weightKg / ($this->heightM ** 2);
    }

    function eat($calories){
        $this->weightKg += $calories/7700;
        return $this->weightKg;
    }

    function caloriesBurnedPerMinuteExercise($exercise){
        // 燃焼カロリーは MET(Metabolic Equivalent of Task) を使って計算することができます
        $met = 1;
        if($exercise == "running") $met = 8;
        else if($exercise == "walking") $met = 3;
        else if($exercise == "tennis") $met = 5;
        else if($exercise == "rope jump") $met = 9;
        // 燃焼カロリーは、met * 3.5 * weight / 200 によって計算することができます
        return $met * 3.5 * $this->weightKg / 200;
    }

    function hoursToLose1KgByExercise($exercise){
        return 7700 / ($this->caloriesBurnedPerMinuteExercise($exercise) * 60);
    }

    function exercise($exercise, $minutes){
        // 関数の分解
        $caloriesBurned = $this->caloriesBurnedPerMinuteExercise($exercise) * $minutes;
        $this->weightKg -= $caloriesBurned/7700;
        return $this->weightKg;
    }
}
```

```php
/*
レーシングゲームを作ることになり、車をオブジェクトとして表すことになりました。車の情報として、メーカー、車種、製造年、製造番号、色、速さ（マイル/秒）、燃費（マイル/ガロン）、ガスタンク容量（ガロン）、重さ（kg）が与えられます。
*/
<?php
<?php
class Car{

    public $wheels = 4;

    public $make;
    public $model;
    public $year;
    public $vin;
    public $color;
    public $velocity;
    public $fuelEconomy;
    public $tankCapacity;
    public $weightKg;

    function __construct($make, $model, $year, $vin, $color, $velocity, $fuelEconomy, $tankCapacity, $weightKg){
        $this->make = $make;
        $this->model = $model;
        $this->year = $year;
        $this->vin = $vin;
        $this->color = $color;
        $this->velocity = $velocity;
        $this->fuelEconomy = $fuelEconomy;
        $this->tankCapacity =$tankCapacity;
        $this->weightKg = $weightKg;
    }

    function getCarString(){
        return $this->make . " " . $this->model . " Year: " . $this->year . " Vin: " . $this->vin . " Color: " . $this->color . " Velocity: " . $this->velocity . "mps Fuel economy: " . $this->fuelEconomy . "mile/gallon Tank capacity: " . $this->tankCapacity . " Weight: " . $this->weightKg ."Kg. It has " . $this->wheels . " wheels.";
    }

    // 停止せずに移動できる最大マイル数を計算します
    // 燃費とタンクの大きさから算出できます
    function milesWithoutStop(){
        return $this->fuelEconomy * $this->tankCapacity;
    }

    // 1 時間に進むことができる距離を計算します
    function getDistance(){
        return $this->velocity * 60 * 60;
    }

    // ガソリンが空になるのにかかる時間を計算します
    function hoursToEmpty(){
        return round($this->milesWithoutStop() / $this->getDistance() * 100) / 100;
    }

    // 車が持つ運動エネルギーを計算します
    // 運動エネルギー　= 1/2 mv^2
    function getEnergy(){
        return pow($this->velocity, 2) * ($this->weightKg) / 2;
    }
}
```

## Q Dog クラス

```php
<?php
class Dog{
    public $name;
    public $size;
    public $age;

    function __construct($name, $size, $age){
        $this->name = $name;
        $this->size = $size;
        $this->age = $age;
    }

    public function bark(){
        if ($this->size >= 50) return "Wooof! Woof!";
        else if ($this->size >= 20) return "Ruff! Ruff!";
        else return "Yip! Yip!";
    }

    public function calcHumanAge(){
        return 12 + ($this->age - 1) * 7;
    }
}
```

## Q Animal クラス

```php
<?php
<?php
class Animal{
    public $name;
    public $weightKg;
    public $heightM;
    public $isPredator;
    public $speedKph;

    function __construct($name, $weightKg, $heightM, $isPredator, $speedKph){
        $this->name = $name;
        $this->weightKg = $weightKg;
        $this->heightM = $heightM;
        $this->isPredator = $isPredator;
        $this->speedKph = $speedKph;
    }

    public function activityMultiplier(){
        return 1.2;
    }

    public function getBMI(){
        return round($this->weightKg / pow($this->heightM, 2), 2);
    }

    public function getDailyCalories(){
        return round(70 * pow($this->weightKg, 0.75) * $this->activityMultiplier(), 2);
    }

    public function isDangerous(){
        return $this->isPredator == true || $this->heightM >= 1.7 || $this->speedKph >= 35;
    }
}
```
