# リスト

リスト：データを順序通りにまとめて保管する（配列、連結リスト）

## 配列

---

- 整数の配列 listOfInts を入力として受け取り、偶数が何個あるかを調べる totalEven 関数

```php
<?php
function isEven($n){
    return $n % 2 == 0;
}

function totalEven($listOfInts){
    $count = 0;
    for($i = 0; $i < count($listOfInts); $I++){
        if(isEven($listOfInts[$i])) $count ++;
    }
    return $count;
}

$list1 = [3,43,5,4,2,100,6];
echo totalEven($list1); //4
```

- 文字列で構成される配列 sentences、文字 char を受け取り、その文字を含む文が何個あるかを返す

```php
<?php
function totalFoundInSentence($sentences, $c){
    $count = 0;
    for($i =0; $i < count($sentences); $i++){
        //各文字列
        $currentSentence = $sentences[$i];
        for($j = 0; $j < strlen($currentSentence); $j++){
            if(strtolower($currentSentence[$j]) == strtolower($c)){
                $count++;
                break;
            }
        }
    }
    return $count;
}

$list2 = ["The wood", "Pecked peckers", "At the inn", "Tomorrowland"];
echo totalFoundInSentence($list2,'a'); //2
```

- オブジェクトの配列

```php
<?php
class Car {
    ublic $make;
    public $model;
    public $year;

    function __construct($make, $model, $year){
        $this->make = $make;
        $this->model = $model;
        $this->year = $year;
    }
}

function printCarArray($carArray){
    for($i = 0; $i <count($carArray); $i++){
        echo $carArray[$i]->make . "-" . $carArray[$i]->model . "-" . $carArray[$i]->year . PHP_EOL;
    }
}

$cars = [];
array_push($cars, new Car("Toyota", "Camry", 2000));
$cars[] = new Car("BMW", "X1 Sports", 2019);
$cars[] = new Car("Nissan", "GT-R", 2020);

echo "First model: " . $cars[0]->make . "-" . $cars[0]->model . "-" . $cars[0]->year . PHP_EOL;
```

## 動的配列

新しい容量 = 論理サイズ × d(成長係数)となるように新しい配列を作成して新しい配列に古い配列をコピーする

```php
<?php
function printArray($intArr){
    for($i = 0; $i < count($intArr); $i++){
        echo $intArr[$i] . " ";
    }
    echo PHP_EOL;
}

//サイズは宣言しなくて良い
$dArr = [2,3,4,1,-10,200];
printArray($dArr);

array_push($dArr, 10);
array_push($dArr, 340);
array_push($dArr, 543);

$dArr[] = -23;
printArray($dArr);
```

```php
<?php
function printArray($intArr){
    for($i = 0; $i < count($intArr); $i++){
        echo $intArr[$i] . " ";
    }
    echo PHP_EOL;
}

$dArr = [2,3];
printArray($dArr);

array_push($dArr, 30);
array_push($dArr, 645);
array_push($dArr, 23);
array_push($dArr, -35);
array_push($dArr, 325);
array_push($dArr, 1425);
array_push($dArr, 0);
array_push($dArr, 98);

printArray($dArr);

$dArr = array_merge($dArr, [3,34,3542,10,202,34,203,-75,-56,45,0,43,1132]);
printArray($dArr);
```

### 先頭への挿入

```txt
// [32,34,23,3,10]、L=5, C=10 に 20 を先頭に挿入します
計算量O(n)
[32,34,23,3,10,null,null,null,null,null]
[32,34,23,3,10,20] // L=6、C=10、O(1)
[32,34,23,3,20,10] // L=6、C=10、O(1)
[32,34,23,20,3,10] // L=6、C=10、O(1)
[32,34,20,23,3,10] // L=6、C=10、O(1)
[32,20,34,23,3,10] // L=6、C=10、O(1)
[20,32,34,23,3,10] // L=6、C=10、O(1)
```

### 先頭の削除

```txt
// [34,32,23,3,10]、L=5、C=10、34 を先頭から取り除きます
計算量O(n)
[32,34,23,3,10] // L=5、C=10、O(1)
[32,23,34,3,10] // L=5、C=10、O(1)
[32,23,3,34,10] // L=5、C=10、O(1)
[32,23,3,10,34] // L=5、C=10、O(1)
[32,23,3,10,null] // L=4、C=10、O(1)
```

### 途中への挿入

```txt
// [32,34,23,3]、L=4、C=10、20 を真ん中に挿入します
計算量O(n)
[32,34,23,3,null,null,null,null]
[32,34,23,3,20] // L=5、C=10、O(1)
[32,34,23,20,3] // L=5、C=10、O(1)
[32,34,20,23,3] // L=5、C=10、O(1)
```

### 途中の削除

```txt
// [34,32,23,3,10]、L=5、C=10、23 を真ん中から取り除きます
計算量O(n)
[34,32,3,23,10] // L=5、C=10、O(1)
[34,32,3,10,23] // L=5、C=10、O(1)
[34,32,3,10,null] // L=5、C=10、O(1)
```

### 末端への挿入

```txt
計算量O(1)
[1,2,3,4,null,null,null,null] // C=8、L=4、O(1)
[1,2,3,4,5] // C=8、L=5、O(1)
[1,2,3,4,5,6] // C=8、L=6、O(1)
[1,2,3,4,5,6,7] // C=8、L=7、O(1)
[1,2,3,4,5,6,7,8] // C=8、L=8、O(1)

// C=L となったとき、それ以上要素を追加することができないので、新しい配列を作成し、そこに n+1 個の要素をコピーします
[1,2,3,4,5,6,7,8,9] // C=16、L=9、O(9)
```

### 末端の削除

```txt
計算量O(1)
[1,2,3,4,5,6,7,8] // C=16、L=8
[1,2,3,4,5,6,7,null] // C=16、L=7、O(1)
```

---

### 2 つの整数を受け取って、その間にある整数の 3 乗を配列として作成

```php
function cubeRange($a, $b){
    $cubeList = [];
    for($i = $a; $i < $b+1; $i++){
        array_push($cubeList, $i ** 3);
    }
    return $cubeList;
}

function printList($arr){
    for($i = 0; $i < count($arr); $i++){
        echo ($arr[$i]) . PHP_EOL;
    }
}

printList(cubeRange(3, 10));
```

### ある整数を受け取り、その数値まで文字列としてコンソールに表示します。ただし、3 の倍数では fizz、5 の倍数では buzz、15 の倍数では fizzBuzz と表示

```php
<?php
function fizzBuzz($x){
    $fizzBuzzList = [];

    for($i = 1; $i < $x; $i++){
        if ($i % 3 == 0 && $i % 5 == 0){
            array_push($fizzBuzzList, "fizzBuzz");
        } else if ($i % 3 == 0){
            array_push($fizzBuzzList, "fizz");
        } else if ($i % 5 == 0){
            array_push($fizzBuzzList, "buzz");
        } else {
            array_push($fizzBuzzList, "-" . $i . "-");
        }
    }
}

function printList($arr){
    for($i = 0; $i < count($arr); $i++){
        echo $arr[$i] . PHP_EOL;
    }
}

printList(fizzBuzz(45));
```

### 郵便番号のリスト、郵便番号、範囲を受け取り、リストの中から郵便番号の範囲内にあるものだけを返す

```php
<?php
function zipcodeRange($listOfZipcodes, $mainZip, $zipRange){
    $codesInRange = [];
    for($i = 0; $i < count($listOfZipcodes); $i++;){
        if(abs($listOfZipcodes[$i] - $mainZip) <= $zipRange){
            array_push($codesInRange, $listOfZipcodes[$i]);
        }
    }
    return $codesInRange;
}

function printList($arr){
    for ($i = 0; $i < count($arr); $i++){
        echo $arr[$i]. PHP_EOL;
    }
}

printList(zipcodeRange([50013, 94512,90080,90190,90095,54810,85005],90094, 200));
```

## Q リスト内の要素の足し合わせ

```php
<?php
function addEveryOtherElement(array $intArr): int{
    $sum = 0;
    for($i = 0; $i < count($intArr); $i++){
        if($i % 2 != 0) $sum += $intArr[$i];
    }
    return $sum;
}

```

## Q 単語内の文字カウント

```php
<?php
function charInBagOfWordsCount(array $bagOfWords, string $keyCharacter): int{
    $count = 0;
    for($i = 0; $i < count($bagOfWords); $i++){
        //各文字列を取り出す
        $currentSentence = $bagOfWords[$i];
        //各文字列を反復
        for($j = 0; $j < strlen($currentSentence); $j++){
            if(strtolower($currentSentence[$j]) == strtolower($keyCharacter)){
                $count ++;
            }
        }
    }
    return $count;
}
```

## 文字コード

```php
<?php
function isFirstStringLarger(string $s1, string $s2): bool{
    $sumOfs1= 0;
    $sumOfs2 = 0;

    //小文字に統一して条件を揃える
    $s1 = strtolower($s1);
    $s2 = strtolower($s2);

    for($i = 0; $i < strlen($s1); $i++){
        $sumOfs1 += ord($s1[$i]);
    }

    for($i = 0; $i < strlen($s2); $i++){
        $sumOfs2 += ord($s2[$i]);
    }

    return $sumOfs1 > $sumOfs2;
}
```

## ブラックジャック

https://www.php.net/manual/ja/control-structures.switch.php

```php
<?php

<?php

function winnerBlackjack(array $playerCards, array $houseCards): bool{
    $playerSum = getSum($playerCards);
    $houseSum = getSum($houseCards);

    if($playerSum <= 21 && ($playerSum > $houseSum || $houseSum > 21)){
        return true;
    }
    else return false;
}

function getSum(array $array): int{
    $sum = 0;

    foreach($array as $card){
        //先頭の絵文字をそれぞれ取り除く,絵文字はマルチバイト文字なのでmb_substrを使う
        $cardValue = mb_substr($card, 1);
        //アルファベットを数字に変換
        switch($cardValue){
            case 'A':
                $sum += 1;
                break;
            case 'J':
                $sum += 11;
                break;
            case 'Q':
                $sum += 12;
                break;
            case 'K':
                $sum += 13;
                break;
            default:
                //整数に変換して$sumに追加
                $sum += intval($cardValue);
        }
    }
    return $sum;
}
```

https://www.sejuku.net/blog/24122

```python
def getSum(array):
    #辞書型
    cardValue = {'A': 1, 'J': 11, 'Q': 12, 'K': 13}
    sum = 0
    for card in array:
        #数値判定
        if card[1:].isdigit():
            sum += int(card[1:])
        else:
            sum += cardValue[card[1:]]
    return sum

def winnerBlackjack(playerCards, houseCards):
    playerSum = getSum(playerCards)
    houseSum = getSum(houseCards)
    return playerSum <=21 and (playerSum > houseSum or houseSum > 21)
```

## Q サブスクリプションリスト

```
PHP の`strpos()`関数は、文字列内で指定した部分文字列が見つからなかった場合に`false`を返します。つまり、`strpos()`関数の戻り値は、部分文字列が見つかった場合にはその位置（0 を含む）を返し、見つからなかった場合には`false`を返すのです。

なお、PHP では 0 は`false`と等価とされます。したがって、`strpos()`関数の戻り値が 0 であった場合（つまり部分文字列が文字列の最初に存在した場合）に、その戻り値を`== true`で評価すると、`false`となってしまいます。

そのため、`strpos()`関数の戻り値を評価する際には、等価性`==`ではなく、同一性`===`を用いることが推奨されます。同一性`===`を用いると、値だけでなく型も比較するため、`strpos()`が 0 を返しても`false`とは判定されません。

その結果、以下のような表現となります。

- `strpos($email, " ") !== false` : E メールアドレスにスペースが存在する（スペースが見つかった位置はどこでも良い）
- `strpos($email, " ") === false` : E メールアドレスにスペースが存在しない

したがって、`strpos($email, " ") !== false`はスペースが存在するかどうかをチェックする適切な方法です。
```

```php
<?php

function isEmailValid(string $email): bool{
    if($email[0] == "@" || strpos($email, " ") !== false || substr_count($email, "@") != 1){
        return false;
    }
    $atLocation = strpos($email, "@");
    $domain = substr($email, $atLocation + 1 );
    if(strpos($domain, ".") == false){
        return false;
    }
    else return true;
}

function validEmailList(array $emailList): array{
    $output = [];
    for($i = 0; $i < count($emailList); $i++){
        if(isEmailValid($emailList[$i]) == true){
            array_push($output, $emailList[$i]);
        }
    }
    return $output;
}
```

## Q 間のアルファベット

```php
<?php

function generateAlphabet(string $firstAlphabet, string $secondAlphabet): array{

    $firstAlphabet = strtolower($firstAlphabet);
    $secondAlphabet = strtolower($secondAlphabet);

    $output = [];
    //アスキー値が小さい文字から開始、大きい文字で終了
    $start = min(ord($firstAlphabet), ord($secondAlphabet));
    $end = max(ord($firstAlphabet), ord($secondAlphabet));

    //アスキー値を文字に変換して最小の文字から+1ずつしていく
    for($i = $start; $i <= $end; $i++){
        array_push($output, chr($i));
    }
    return $output;
}

```
